<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>LyricType - ç®€å¥¢éŸ³ä¹å­¦ä¹ ä½“éªŒ</title>
  <!-- ä¿®æ”¹ç½‘é¡µå›¾æ ‡ä¸ºéŸ³ä¹ç¬¦å· -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 -20 80 90'><text y='.9em' font-size='60'>ğŸµ</text></svg>" type="image/svg+xml"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      /* æ·±è‰²ä¸»é¢˜å˜é‡ */
      --primary-gold: #d4af37;
      --dark-bg: #0a0a0a;
      --dark-surface: #111111;
      --text-primary: #ffffff;
      --text-secondary: #b0b0b0;
      --accent-purple: #8b5cf6;
      --accent-blue: #3b82f6;
      --gradient-primary: linear-gradient(135deg, var(--primary-gold) 0%, var(--accent-purple) 100%);
      --gradient-bg: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
      --surface-bg: rgba(255, 255, 255, 0.05);
      --border-color: rgba(212, 175, 55, 0.2);
    }
    
    /* æµ…è‰²ä¸»é¢˜å˜é‡ */
    :root.light-theme {
      --primary-gold: #c9a431;
      --dark-bg: #f8fafc;
      --dark-surface: #ffffff;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --accent-purple: #7c3aed;
      --accent-blue: #2563eb;
      --gradient-primary: linear-gradient(135deg, var(--primary-gold) 0%, var(--accent-purple) 100%);
      --gradient-bg: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%);
      --surface-bg: rgba(0, 0, 0, 0.03);
      --border-color: rgba(201, 164, 49, 0.3);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: var(--gradient-bg);
      color: var(--text-primary);
      overflow-x: hidden;
      line-height: 1.6;
      background-attachment: fixed;
    }
    
    .luxury-font {
      font-family: 'Playfair Display', serif;
    }
    
    /* è´¨æ„Ÿæ–‡å­—æ•ˆæœ */
    .premium-text {
      position: relative;
      color: var(--primary-gold);
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 200% auto;
      animation: gradientShift 3s ease-in-out infinite;
    }
    
    .premium-text::after {
      content: attr(data-text);
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg, 
        transparent 0%, 
        rgba(212, 175, 55, 0.4) 50%, 
        transparent 100%
      );
      background-size: 200% 100%;
      background-position: 100% 0;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: shimmer 3s infinite;
    }
    
    @keyframes shimmer {
      0% { background-position: 100% 0; }
      100% { background-position: -100% 0; }
    }
    
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    /* çµåŠ¨å²› */
    .dynamic-island-container {
      position: fixed;
      bottom: 2rem;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      z-index: 1000;
      transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .dynamic-island {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem 1.5rem;
      border-radius: 9999px;
      background: rgba(66, 66, 66, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(212, 175, 55, 0.2);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      min-width: 200px;
    }
    
    .island-text {
      color: var(--text-primary);
      margin-right: 0.75rem;
      transition: all 0.3s ease;
      font-weight: 500;
    }
    
    .island-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--primary-gold);
      color: var(--dark-bg);
      font-size: 0.875rem;
      transition: all 0.3s ease;
    }
    
    /* æ»šåŠ¨è½¬åœºæ•ˆæœ */
    .transition-container {
      position: relative;
      height: 300vh;
    }
    
    .transition-sticky {
      position: sticky;
      top: 0;
      height: 100vh;
      overflow: hidden;
    }
    
    .transition-image {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: left;
      transition: width 0.3s ease;
    }
    
    .transition-line {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 1px;
      background: var(--primary-gold);
      z-index: 10;
      transition: left 0.3s ease;
    }
    
    /* å›ºå®šä¸æ»šåŠ¨æ··åˆå¸ƒå±€ */
    .fixed-scroll-layout {
      display: flex;
      min-height: 300vh;
    }
    
    .scroll-content {
      width: 50%;
      padding: 2rem;
    }
    
    .fixed-content {
      width: 50%;
      position: sticky;
      top: 0;
      height: 100vh;
      overflow: hidden;
    }
    
    .fixed-image {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    .fixed-image.active {
      opacity: 1;
    }
    
    /* å…¨å±æŠ½å±‰å¼è¯¦æƒ… */
    .drawer {
      position: fixed;
      inset: 0;
      z-index: 2000;
      visibility: hidden;
    }
    
    .drawer-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .drawer-content {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 90vh;
      background: var(--dark-surface);
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
      transform: translateY(100%);
      transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      border-top: 1px solid rgba(212, 175, 55, 0.3);
    }
    
    .drawer.active .drawer-backdrop {
      opacity: 1;
    }
    
    .drawer.active .drawer-content {
      transform: translateY(0);
    }
    
    .drawer.active {
      visibility: visible;
    }
    
    .drawer-close {
      position: absolute;
      right: 1rem;
      top: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-primary);
      cursor: pointer;
      z-index: 10;
      transition: all 0.3s ease;
    }
    
    .drawer-close:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.1);
    }
    
    .drawer-scroll {
      height: 100%;
      overflow-y: auto;
      padding: 3rem 2rem 2rem;
    }
    
    /* å¯¼èˆªæ  */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      background: rgba(10, 10, 10, 0.8);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-color);
      transition: all 0.3s ease;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    }
    
    .light-theme .navbar {
      background: rgba(248, 250, 252, 0.9);
    }
    
    .navbar.scrolled {
      padding: 0.5rem 0;
    }
    
    .nav-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
      gap: 2rem;
    }
    
    .nav-controls {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .theme-toggle-btn {
      background: var(--surface-bg);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      padding: 0.5rem;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1.2rem;
    }
    
    .theme-toggle-btn:hover {
      background: var(--primary-gold);
      color: var(--dark-bg);
      transform: scale(1.1);
    }
    
    .logo {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--primary-gold);
      font-family: 'Playfair Display', serif;
    }
    
    .nav-links {
      display: flex;
      list-style: none;
      gap: 2rem;
    }
    
    .nav-links a {
      color: var(--text-secondary);
      text-decoration: none;
      transition: color 0.3s ease;
      font-weight: 400;
    }
    
    .nav-links a:hover {
      color: var(--primary-gold);
    }
    
    /* è‹±é›„åŒºåŸŸ */
    .hero {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    
    .hero-bg {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 50%, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
      z-index: -1;
    }
    
    .hero-content {
      text-align: center;
      max-width: 800px;
      padding: 0 2rem;
    }
    
    .hero-title {
      font-size: clamp(3rem, 8vw, 6rem);
      font-weight: 700;
      margin-bottom: 1rem;
      line-height: 1.1;
    }
    
    .hero-subtitle {
      font-size: clamp(1rem, 2vw, 1.5rem);
      color: var(--text-secondary);
      margin-bottom: 2rem;
      font-weight: 300;
    }
    
    .hero-image {
      position: absolute;
      right: 10%;
      top: 50%;
      transform: translateY(-50%);
      max-width: 40%;
      opacity: 0;
      filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.5));
    }
    
    /* ç‰¹æ€§åŒºåŸŸ */
    .features {
      padding: 8rem 0;
      background: var(--dark-surface);
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    
    .section-title {
      font-size: clamp(2.5rem, 5vw, 4rem);
      font-weight: 600;
      text-align: center;
      margin-bottom: 4rem;
      color: var(--primary-gold);
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 3rem;
    }
    
    .feature-card {
      padding: 3rem 2rem;
      background: var(--surface-bg);
      border: 1px solid var(--border-color);
      border-radius: 1rem;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }
    
    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--primary-gold), transparent);
      transform: translateX(-100%);
      transition: transform 0.6s ease;
    }
    
    .feature-card:hover::before {
      transform: translateX(100%);
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
      border-color: rgba(212, 175, 55, 0.4);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }
    
    .feature-icon {
      font-size: 3rem;
      color: var(--primary-gold);
      margin-bottom: 1.5rem;
    }
    
    .feature-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text-primary);
      font-family: 'Playfair Display', serif;
    }
    
    .feature-description {
      color: var(--text-secondary);
      line-height: 1.7;
    }
    
    /* äº§å“å±•ç¤ºåŒºåŸŸ */
    .product-showcase {
      padding: 8rem 0;
    }
    
    .showcase-content {
      display: flex;
      align-items: center;
      gap: 4rem;
    }
    
    .showcase-text {
      flex: 1;
    }
    
    .showcase-image {
      flex: 1;
      position: relative;
    }
    
    .showcase-image img {
      width: 100%;
      height: auto;
      border-radius: 0.5rem;
      border: 1px solid rgba(212, 175, 55, 0.3);
    }
    
    .showcase-title {
      font-size: clamp(2rem, 4vw, 3rem);
      font-weight: 600;
      margin-bottom: 2rem;
      color: var(--primary-gold);
      font-family: 'Playfair Display', serif;
    }
    
    .showcase-description {
      font-size: 1.1rem;
      color: var(--text-secondary);
      margin-bottom: 2rem;
      line-height: 1.7;
    }
    
    /* æŒ‰é’®æ ·å¼ */
    .luxury-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem 2rem;
      background: transparent;
      border: 2px solid transparent;
      color: var(--primary-gold);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      position: relative;
      overflow: hidden;
      background: linear-gradient(var(--dark-bg), var(--dark-bg)) padding-box,
                  var(--gradient-primary) border-box;
    }
    
    .luxury-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--primary-gold);
      transition: left 0.3s ease;
      z-index: -1;
    }
    
    .luxury-btn:hover::before {
      left: 0;
    }
    
    .luxury-btn:hover {
      color: var(--dark-bg);
      transform: translateY(-2px);
    }
    
    /* é¡µè„š */
    .footer {
      padding: 4rem 0;
      background: var(--dark-surface);
      border-top: 1px solid rgba(212, 175, 55, 0.2);
    }
    
    .footer-content {
      text-align: center;
    }
    
    .footer-logo {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--primary-gold);
      font-family: 'Playfair Display', serif;
      margin-bottom: 1rem;
    }
    
    .footer-text {
      color: var(--text-secondary);
      margin-bottom: 2rem;
    }
    
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-bottom: 2rem;
    }
    
    .footer-links a {
      color: var(--text-secondary);
      text-decoration: none;
      transition: color 0.3s ease;
    }
    
    .footer-links a:hover {
      color: var(--primary-gold);
    }
    
    .social-links {
      display: flex;
      justify-content: center;
      gap: 1rem;
    }
    
    .social-links a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-secondary);
      transition: all 0.3s ease;
      text-decoration: none;
    }
    
    .social-links a:hover {
      background: var(--primary-gold);
      color: var(--dark-bg);
      transform: translateY(-2px);
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .hero-image {
        display: none;
      }
      
      .showcase-content {
        flex-direction: column;
        text-align: center;
      }
      
      .fixed-scroll-layout {
        flex-direction: column;
      }
      
      .scroll-content,
      .fixed-content {
        width: 100%;
      }
      
      .fixed-content {
        height: 50vh;
      }
      
      .features-grid {
        grid-template-columns: 1fr;
      }
      
      .footer-links {
        flex-direction: column;
        align-items: center;
      }
    }
    
    /* ç²’å­èƒŒæ™¯ */
    #particles-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -2;
    }
    
    /* åŠ è½½åŠ¨ç”» */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 2px solid rgba(212, 175, 55, 0.3);
      border-radius: 50%;
      border-top-color: var(--primary-gold);
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* åé¦ˆæç¤ºæ ·å¼ */
    .feedback {
      text-align: center;
      margin: 1rem 0;
      min-height: 30px;
      color: var(--primary-gold);
      transition: all 0.3s ease;
    }
    
    .feedback.correct {
      background: rgba(72, 187, 120, 0.1);
      border: 1px solid rgba(72, 187, 120, 0.3);
      color: #48bb78;
    }
    
    .feedback.incorrect {
      background: rgba(245, 101, 101, 0.1);
      border: 1px solid rgba(245, 101, 101, 0.3);
      color: #f56565;
    }
    
    .feedback.warning {
      background: rgba(246, 178, 77, 0.1);
      border: 1px solid rgba(246, 178, 77, 0.3);
      color: #f6b24d;
    }
    
    /* éŸ³é¢‘å¯è§†åŒ– */
    .audio-visualizer {
      display: flex;
      align-items: end;
      gap: 2px;
      height: 40px;
      justify-content: center;
      margin: 2rem 0;
    }
    
    .audio-bar {
      width: 2px;
      background: var(--primary-gold);
      border-radius: 1px;
      animation: audioWave 1.5s ease-in-out infinite;
    }
    
    @keyframes audioWave {
      0%, 100% { height: 5px; }
      50% { height: 30px; }
    }
  </style>
</head>
<body>
  <!-- ç²’å­èƒŒæ™¯ -->
  <div id="particles-bg"></div>

  <!-- å¯¼èˆªæ  -->
  <nav class="navbar" id="navbar">
    <div class="nav-content">
      <div class="logo">LyricType</div>
      <ul class="nav-links">
        <li><a href="#features">ç‰¹æ€§</a></li>
        <li><a href="#experience">å¼€å§‹ä½“éªŒ</a></li>
      </ul>
      <div class="nav-controls">
        <button id="themeToggle" class="theme-toggle-btn" title="åˆ‡æ¢ä¸»é¢˜">
          <i class="fa fa-moon-o"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- è‹±é›„åŒºåŸŸ -->
  <section class="hero">
    <div class="hero-bg"></div>
    <div class="hero-content">
      <h1 class="hero-title luxury-font premium-text" data-text="LyricType">LyricType</h1>
      <p class="hero-subtitle">ç®€å¥¢éŸ³ä¹å­¦ä¹ ä½“éªŒï¼Œè®©æ­Œè¯å­¦ä¹ æˆä¸ºä¸€ç§è‰ºæœ¯</p>
      <div class="audio-visualizer">
        <div class="audio-bar" style="animation-delay: 0s;"></div>
        <div class="audio-bar" style="animation-delay: 0.1s;"></div>
        <div class="audio-bar" style="animation-delay: 0.2s;"></div>
        <div class="audio-bar" style="animation-delay: 0.3s;"></div>
        <div class="audio-bar" style="animation-delay: 0.4s;"></div>
        <div class="audio-bar" style="animation-delay: 0.5s;"></div>
        <div class="audio-bar" style="animation-delay: 0.6s;"></div>
        <div class="audio-bar" style="animation-delay: 0.7s;"></div>
        <div class="audio-bar" style="animation-delay: 0.8s;"></div>
        <div class="audio-bar" style="animation-delay: 0.9s;"></div>
        <div class="audio-bar" style="animation-delay: 1.0s;"></div>
        <div class="audio-bar" style="animation-delay: 1.1s;"></div>
        <div class="audio-bar" style="animation-delay: 1.2s;"></div>
        <div class="audio-bar" style="animation-delay: 1.3s;"></div>
        <div class="audio-bar" style="animation-delay: 1.4s;"></div>
      </div>
      <a href="#experience" class="luxury-btn">
        å¼€å§‹ä½“éªŒ
        <i class="fa fa-arrow-right"></i>
      </a>
    </div>
  </section>

  <!-- ç‰¹æ€§åŒºåŸŸ -->
  <section id="features" class="features">
    <div class="container">
      <h2 class="section-title luxury-font premium-text" data-text="æ ¸å¿ƒç‰¹æ€§">æ ¸å¿ƒç‰¹æ€§</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">ğŸµ</div>
          <h3 class="feature-title">æ™ºèƒ½æ­Œè¯è¯†åˆ«</h3>
          <p class="feature-description">
            å…ˆè¿›çš„éŸ³é¢‘åˆ†ææŠ€æœ¯ï¼Œç²¾å‡†è¯†åˆ«æ­Œè¯æ—¶é—´è½´ï¼Œæä¾›å®æ—¶åŒæ­¥çš„æ­Œè¯æ˜¾ç¤ºå’Œè¾“å…¥éªŒè¯ï¼Œè®©å­¦ä¹ ä½“éªŒæ›´åŠ æµç•…è‡ªç„¶ã€‚
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">âš¡</div>
          <h3 class="feature-title">å®æ—¶åé¦ˆç³»ç»Ÿ</h3>
          <p class="feature-description">
            æ¯«ç§’çº§å“åº”çš„è¾“å…¥éªŒè¯ï¼Œå­—ç¬¦çº§åˆ«çš„ç²¾å‡†åé¦ˆï¼Œå®æ—¶é«˜äº®æ˜¾ç¤ºæ‹¼å†™é”™è¯¯ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿæå‡æ­Œè¯è®°å¿†å’Œæ‹¼å†™èƒ½åŠ›ã€‚
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ¨</div>
          <h3 class="feature-title">ç®€å¥¢è§†è§‰è®¾è®¡</h3>
          <p class="feature-description">
            ç²¾å¿ƒè®¾è®¡çš„ç”¨æˆ·ç•Œé¢ï¼Œé‡‡ç”¨é«˜ç«¯å¥¢åçš„è§†è§‰é£æ ¼ï¼Œæ·±è‰²èƒŒæ™¯é…åˆé‡‘è‰²ç‚¹ç¼€ï¼Œåˆ›é€ æ²‰æµ¸å¼çš„å­¦ä¹ ç¯å¢ƒã€‚
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ“±</div>
          <h3 class="feature-title">å…¨ç«¯å®Œç¾é€‚é…</h3>
          <p class="feature-description">
            å®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢è®¾å¤‡ï¼Œå“åº”å¼è®¾è®¡ç¡®ä¿åœ¨ä»»ä½•å±å¹•å°ºå¯¸ä¸‹éƒ½èƒ½æä¾›æœ€ä½³çš„å­¦ä¹ ä½“éªŒã€‚
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ’¾</div>
          <h3 class="feature-title">æ™ºèƒ½æ•°æ®ç¼“å­˜</h3>
          <p class="feature-description">
            æœ¬åœ°æ•°æ®å­˜å‚¨æŠ€æœ¯ï¼Œè‡ªåŠ¨ä¿å­˜å­¦ä¹ è¿›åº¦å’Œä¸ªäººè®¾ç½®ï¼Œæ”¯æŒç¦»çº¿ä½¿ç”¨ï¼Œè®©å­¦ä¹ ä¸å—ç½‘ç»œé™åˆ¶ã€‚
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸš€</div>
          <h3 class="feature-title">GitHubæ¨¡æ¿æ”¯æŒ</h3>
          <p class="feature-description">
            åˆ›æ–°çš„GitHubæ¨¡æ¿ç³»ç»Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰éŸ³é¢‘å’Œæ­Œè¯æ–‡ä»¶ï¼Œè½»æ¾æ‰©å±•å­¦ä¹ å†…å®¹ï¼Œæ‰“é€ ä¸ªæ€§åŒ–å­¦ä¹ åº“ã€‚
          </p>
        </div>
      </div>
    </div>
  </section>



  <!-- ä½“éªŒåŒºåŸŸ -->
  <section id="experience" class="features">
    <div class="container">
      <h2 class="section-title luxury-font premium-text" data-text="å¼€å§‹ä½“éªŒ">å¼€å§‹ä½“éªŒ</h2>
      <div class="max-w-4xl mx-auto">
        <!-- æ–‡ä»¶ä¸Šä¼ /æ¨¡æ¿åŠ è½½åŒºåŸŸ -->
        <div id="dropZone" class="upload-area" style="border: 2px dashed var(--border-color); padding: 4rem 2rem; text-align: center; margin-bottom: 3rem; transition: all 0.3s ease; cursor: pointer; border-radius: 0.5rem; background: var(--surface-bg); backdrop-filter: blur(10px);">
          <h3 class="text-2xl font-bold mb-2 luxury-font premium-text" data-text="åŠ è½½æ¨¡æ¿æ–‡ä»¶">åŠ è½½æ¨¡æ¿æ–‡ä»¶</h3>
          <p class="feedback warning mb-4" id="templateTip" style="color: var(--text-secondary);">æ­£åœ¨æ£€æµ‹GitHubæ¨¡æ¿æ–‡ä»¶...</p>
          <!-- æ¨¡æ¿é€‰æ‹©å™¨åŠ¨æ€ç”Ÿæˆ -->
          <div class="template-selector" id="templateSelector" style="margin: 2rem 0; display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center;"></div>
          <input type="file" id="fileInput" class="file-input" multiple accept="audio/*,.lrc" style="display: none;"/>
          <div class="flex flex-col sm:flex-row gap-2 justify-center mt-4">
            <button class="luxury-btn" onclick="document.getElementById('fileInput').click()">
              <i class="fa fa-upload mr-2"></i>
              ä¸Šä¼ æ–‡ä»¶
            </button>
            <button class="luxury-btn" onclick="showTemplateInfo()">
              <i class="fa fa-info-circle mr-2"></i>
              ä½¿ç”¨è¯´æ˜
            </button>
          </div>
        </div>
        
        <!-- æ­Œè¯æ˜¾ç¤ºåŒºåŸŸ -->
        <div class="lyric-display" style="margin: 3rem 0; text-align: center;">
          <div class="lyric-text" id="lyricBox" style="font-size: clamp(2rem, 5vw, 3.5rem); font-weight: 400; line-height: 1.8; margin-bottom: 2rem; min-height: 120px; color: var(--primary-gold); font-family: 'Times New Roman', serif; text-shadow: 0 2px 10px rgba(212, 175, 55, 0.3); transition: all 0.3s ease; padding: 1rem; border-radius: 1rem; background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px);">
            ç­‰å¾…æ¨¡æ¿åŠ è½½/æ–‡ä»¶ä¸Šä¼ ...
          </div>
          <div class="lyric-translation" id="transBox" style="font-size: 1.4rem; color: var(--text-secondary); font-weight: 300; min-height: 60px; font-family: 'Times New Roman', serif; margin-top: 1rem; padding: 1rem; border-radius: 1rem; background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(5px);">
          </div>
        </div>
        
        <!-- è¾“å…¥åŒºåŸŸ -->
        <div class="input-area" style="margin: 3rem 0;">
          <div style="position: relative;">
            <input 
              type="text" 
              id="inputBox" 
              class="minimal-input" 
              placeholder="åœ¨æ­¤è¾“å…¥æ­Œè¯..." 
              disabled
              style="width: 100%; padding: 1.5rem; background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(212, 175, 55, 0.3); color: var(--text-primary); font-size: 1.4rem; font-family: 'Times New Roman', serif; transition: all 0.3s ease; outline: none; border-radius: 0.5rem;"
              spellcheck="false"
            />
            <div id="highlightLayer" class="absolute -top-[100px] left-0 right-0 flex items-center px-6 pointer-events-none" style="font-size: 1.4rem; font-family: 'Times New Roman', serif; padding: 0 1.5rem;"></div>
          </div>
          <div class="feedback" id="feedback" style="text-align: center; margin: 1.5rem 0; min-height: 40px; color: var(--primary-gold); font-size: 1.1rem; font-weight: 500; padding: 1rem; border-radius: 0.5rem; background: rgba(212, 175, 55, 0.1); border: 1px solid rgba(212, 175, 55, 0.2); transition: all 0.3s ease;"></div>
        </div>
        
        <!-- æ§åˆ¶æŒ‰é’® -->
        <div class="flex flex-col sm:flex-row gap-2 justify-center">
          <button id="startBtn" class="luxury-btn" disabled>
            <i class="fa fa-play mr-2"></i>
            å¼€å§‹ç»ƒä¹ 
          </button>
          <button id="pauseBtn" class="luxury-btn" disabled>
            <i class="fa fa-pause mr-2"></i>
            æš‚åœ
          </button>
          <button id="exportBtn" class="luxury-btn" disabled>
            <i class="fa fa-download mr-2"></i>
            å¯¼å‡ºæ­Œè¯
          </button>
        </div>
      </div>
    </div>
  </section>



  <!-- é¡µè„š -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">LyricType</div>
        <p class="footer-text">ç®€å¥¢éŸ³ä¹å­¦ä¹ ä½“éªŒï¼Œè®©æ­Œè¯å­¦ä¹ æˆä¸ºä¸€ç§è‰ºæœ¯</p>
        <div class="footer-links">
          <a href="#features">ç‰¹æ€§</a>
          <a href="#showcase">äº§å“</a>
          <a href="#experience">ä½“éªŒ</a>
          <a href="#about">å…³äº</a>
        </div>
        <div class="social-links">
          <a href="#"><i class="fa fa-github"></i></a>
          <a href="#"><i class="fa fa-twitter"></i></a>
          <a href="#"><i class="fa fa-instagram"></i></a>
          <a href="#"><i class="fa fa-linkedin"></i></a>
        </div>
      </div>
    </div>
  </footer>

  <!-- éŸ³é¢‘å…ƒç´  -->
  <audio id="audio"></audio>

  <!-- çµåŠ¨å²› -->
  <div class="dynamic-island-container" id="dynamic-island-container">
    <div class="dynamic-island" id="dynamic-island">
      <span class="island-text" id="island-text">æ¬¢è¿ä½¿ç”¨ LyricType</span>
      <div class="island-icon" id="island-icon">
        <i class="fa fa-music"></i>
      </div>
    </div>
  </div>

  <!-- æŠ½å±‰å¼è¯¦æƒ… -->
  <div id="productDetails" class="drawer">
    <div class="drawer-backdrop"></div>
    <div class="drawer-content">
      <button class="drawer-close" onclick="closeDrawer('productDetails')">
        <i class="fa fa-times"></i>
      </button>
      <div class="drawer-scroll">
        <h2 class="text-3xl font-bold mb-6 luxury-font premium-text" data-text="äº§å“è¯¦æƒ…">äº§å“è¯¦æƒ…</h2>
        <div class="space-y-6">
          <div>
            <h3 class="text-2xl font-bold mb-3 luxury-font">è®¾è®¡ç†å¿µ</h3>
            <p class="text-gray-300">
              LyricType ç§‰æ‰¿"å°‘å³æ˜¯å¤š"çš„è®¾è®¡å“²å­¦ï¼Œé€šè¿‡æç®€çš„ç•Œé¢å’Œæµç•…çš„äº¤äº’ï¼Œä¸ºç”¨æˆ·æä¾›ä¸“æ³¨çš„æ­Œè¯å­¦ä¹ ä½“éªŒã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼Œæœ€å¥½çš„è®¾è®¡åº”è¯¥æ˜¯æ— å½¢çš„ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿä¸“æ³¨äºå†…å®¹æœ¬èº«ã€‚
            </p>
          </div>
          <div>
            <h3 class="text-2xl font-bold mb-3 luxury-font">æŠ€æœ¯ç‰¹è‰²</h3>
            <p class="text-gray-300">
              é‡‡ç”¨æœ€å…ˆè¿›çš„å‰ç«¯æŠ€æœ¯æ ˆï¼ŒåŒ…æ‹¬ HTML5ã€CSS3ã€JavaScriptã€Tailwind CSS ç­‰ï¼Œç¡®ä¿åº”ç”¨çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚æ”¯æŒç¦»çº¿ç¼“å­˜ã€å®æ—¶éŸ³é¢‘å¤„ç†ã€æ™ºèƒ½æ­Œè¯è¯†åˆ«ç­‰åŠŸèƒ½ã€‚
            </p>
          </div>
          <div>
            <h3 class="text-2xl font-bold mb-3 luxury-font">ä½¿ç”¨æ–¹æ³•</h3>
            <p class="text-gray-300">
              1. ä¸Šä¼ æ‚¨çš„éŸ³é¢‘æ–‡ä»¶ï¼ˆMP3æ ¼å¼ï¼‰å’Œæ­Œè¯æ–‡ä»¶ï¼ˆLRCæ ¼å¼ï¼‰<br>
              2. ç‚¹å‡»"å¼€å§‹ç»ƒä¹ "æŒ‰é’®<br>
              3. è·Ÿéšæ­Œè¯æç¤ºï¼Œåœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å¯¹åº”çš„æ­Œè¯<br>
              4. ç³»ç»Ÿä¼šå®æ—¶éªŒè¯æ‚¨çš„è¾“å…¥ï¼Œå¹¶æä¾›åé¦ˆ<br>
              5. å®Œæˆç»ƒä¹ åï¼Œå¯ä»¥å¯¼å‡ºæ‚¨çš„å­¦ä¹ è®°å½•
            </p>
          </div>
          <div>
            <h3 class="text-2xl font-bold mb-3 luxury-font">GitHub æ¨¡æ¿</h3>
            <p class="text-gray-300">
              LyricType æ”¯æŒ GitHub æ¨¡æ¿ç³»ç»Ÿï¼Œæ‚¨å¯ä»¥å°†éŸ³é¢‘å’Œæ­Œè¯æ–‡ä»¶æŒ‰ç…§ç‰¹å®šå‘½åè§„åˆ™ä¸Šä¼ åˆ° GitHub ä»“åº“ï¼Œåº”ç”¨ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶åŠ è½½è¿™äº›æ–‡ä»¶ã€‚
            </p>
            <div class="bg-gray-800 p-4 rounded-lg mt-3">
              <p class="text-sm text-gray-300">
                æ¨¡æ¿å‘½åè§„åˆ™ï¼š<br>
                - éŸ³é¢‘æ–‡ä»¶ï¼šlyrictype-template1.mp3<br>
                - æ­Œè¯æ–‡ä»¶ï¼šlyrictype-template1.lrc<br>
                - æ”¯æŒæœ€å¤š5ä¸ªæ¨¡æ¿ï¼ˆtemplate1 åˆ° template5ï¼‰
              </p>
            </div>
          </div>
          <div>
            <h3 class="text-2xl font-bold mb-3 luxury-font">ç³»ç»Ÿè¦æ±‚</h3>
            <p class="text-gray-300">
              - ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safariã€Edge ç­‰ï¼‰<br>
              - æ”¯æŒ HTML5 å’Œ JavaScript<br>
              - å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨ä»¥è·å¾—æœ€ä½³ä½“éªŒ
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script>
    /* ========== åŸºç¡€è®¾ç½® ========== */
    const DB_NAME = 'lyrictype_luxury', 
          AUDIO_STORE = 'audio', 
          LRC_STORE = 'lrc', 
          TIME_STORE = 'time';
          
    // æ¨¡æ¿æ–‡ä»¶é…ç½® - 5ä¸ªæ¨¡æ¿
    const TEMPLATE_COUNT = 5;
    const TEMPLATE_PREFIX = 'lyrictype-template';
    // è·å–å½“å‰GitHub Pagesæ ¹åœ°å€ï¼ˆè‡ªåŠ¨é€‚é…ï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹ï¼‰
    const BASE_URL = window.location.origin + window.location.pathname.replace(/[^/]+$/, '');
    
    let db, audioURL = '', lrcData = [], timeOffset = {};
    let currentIndex = 0;
    let currentTemplate = 1; // å½“å‰é€‰ä¸­çš„æ¨¡æ¿ç¼–å·
    let templateExists = new Array(TEMPLATE_COUNT + 1).fill(false); // æ ‡è®°æ¨¡æ¿æ˜¯å¦å­˜åœ¨

    /* ========== DOM å…ƒç´  ========== */
    const dropZone = document.getElementById('dropZone');
    const fileInput = document.getElementById('fileInput');
    const startBtn = document.getElementById('startBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const exportBtn = document.getElementById('exportBtn');
    const inputBox = document.getElementById('inputBox');
    const feedback = document.getElementById('feedback');
    const templateTip = document.getElementById('templateTip');
    const lyricBox = document.getElementById('lyricBox');
    const transBox = document.getElementById('transBox');
    const highlightLayer = document.getElementById('highlightLayer');
    const audioEl = document.getElementById('audio');
    const heroImage = document.getElementById('heroImage');
    const navbar = document.getElementById('navbar');
    
    // çµåŠ¨å²›å…ƒç´ 
    const islandContainer = document.getElementById('dynamic-island-container');
    const islandText = document.getElementById('island-text');
    const islandIcon = document.getElementById('island-icon');
    const island = document.getElementById('dynamic-island');
    
    // ä¸»é¢˜æ§åˆ¶å…ƒç´ 
    const themeToggle = document.getElementById('themeToggle');

    /* ========== IndexedDB åˆå§‹åŒ– ========== */
    const req = indexedDB.open(DB_NAME, 1);
    req.onupgradeneeded = () => {
      db = req.result;
      if (!db.objectStoreNames.contains(AUDIO_STORE)) db.createObjectStore(AUDIO_STORE);
      if (!db.objectStoreNames.contains(LRC_STORE)) db.createObjectStore(LRC_STORE);
      if (!db.objectStoreNames.contains(TIME_STORE)) db.createObjectStore(TIME_STORE);
    };
    req.onsuccess = () => {
      db = req.result;
      loadFromDB();
      // åˆå§‹åŒ–å®Œæˆåæ£€æµ‹GitHubæ¨¡æ¿æ–‡ä»¶
      checkAllTemplates();
    };
    req.onerror = () => {
      console.error('IndexedDB æ‰“å¼€å¤±è´¥');
      templateTip.textContent = 'ç¼“å­˜åˆå§‹åŒ–å¤±è´¥ï¼Œå°†æ£€æµ‹GitHubæ¨¡æ¿';
      checkAllTemplates();
    };

    /* ========== ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ ========== */
    function initTheme() {
      // ä»localStorageåŠ è½½ä¿å­˜çš„ä¸»é¢˜
      const savedTheme = localStorage.getItem('lyrictype-theme') || 'dark';
      document.documentElement.classList.toggle('light-theme', savedTheme === 'light');
      
      // æ›´æ–°ä¸»é¢˜åˆ‡æ¢æŒ‰é’®å›¾æ ‡
      updateThemeToggleIcon();
      
      // è®¾ç½®ä¸»é¢˜åˆ‡æ¢æŒ‰é’®äº‹ä»¶ç›‘å¬å™¨
      themeToggle.addEventListener('click', toggleTheme);
    }
    
    function toggleTheme() {
      const isLightTheme = document.documentElement.classList.toggle('light-theme');
      localStorage.setItem('lyrictype-theme', isLightTheme ? 'light' : 'dark');
      updateThemeToggleIcon();
      
      // æ›´æ–°çµåŠ¨å²›æç¤º
      updateIsland(`å·²åˆ‡æ¢åˆ°${isLightTheme ? 'æµ…è‰²' : 'æ·±è‰²'}ä¸»é¢˜`, 'fa-paint-brush');
      
      // é‡æ–°åˆå§‹åŒ–ç²’å­æ•ˆæœä»¥é€‚åº”æ–°ä¸»é¢˜
      setTimeout(() => {
        setupParticles();
      }, 300);
    }
    
    function updateThemeToggleIcon() {
      const isLightTheme = document.documentElement.classList.contains('light-theme');
      themeToggle.innerHTML = `<i class="fa fa-${isLightTheme ? 'sun-o' : 'moon-o'}"></i>`;
      themeToggle.title = `åˆ‡æ¢åˆ°${isLightTheme ? 'æ·±è‰²' : 'æµ…è‰²'}ä¸»é¢˜`;
    }

    /* ========== é¡µé¢åŠ¨æ•ˆåˆå§‹åŒ– ========== */
    function setupParticles() {
      particlesJS('particles-bg', {
        particles: {
          number: { value: 50, density: { enable: true, value_area: 800 } },
          color: { value: '#d4af37' },
          shape: {
            type: 'circle',
            stroke: { width: 0, color: '#000000' },
          },
          opacity: {
            value: 0.3,
            random: true,
            anim: { enable: false }
          },
          size: {
            value: 3,
            random: true,
            anim: { enable: false }
          },
          line_linked: {
            enable: true,
            distance: 150,
            color: '#d4af37',
            opacity: 0.2,
            width: 1
          },
          move: {
            enable: true,
            speed: 1,
            direction: 'none',
            random: true,
            straight: false,
            out_mode: 'out',
            bounce: false,
          }
        },
        interactivity: {
          detect_on: 'canvas',
          events: {
            onhover: { enable: true, mode: 'grab' },
            onclick: { enable: true, mode: 'push' },
            resize: true
          },
          modes: {
            grab: { distance: 140, line_linked: { opacity: 0.5 } },
            push: { particles_nb: 3 }
          }
        },
        retina_detect: true
      });
    }
    
    function setupScrollAnimations() {
      // å¯¼èˆªæ æ»šåŠ¨æ•ˆæœ
      window.addEventListener('scroll', () => {
        if (window.scrollY > 100) {
          navbar.classList.add('scrolled');
        } else {
          navbar.classList.remove('scrolled');
        }
      });
      
      // åˆå§‹åŒ– GSAP ScrollTrigger
      gsap.registerPlugin(ScrollTrigger);
      
      // è‹±é›„åŒºåŸŸå›¾ç‰‡åŠ¨ç”»
      gsap.to(heroImage, {
        opacity: 1,
        x: 0,
        duration: 1.5,
        delay: 0.5,
        ease: 'power3.out'
      });
      
      // ç‰¹æ€§å¡ç‰‡åŠ¨ç”»
      gsap.utils.toArray('.feature-card').forEach((card, i) => {
        gsap.from(card, {
          y: 50,
          opacity: 0,
          duration: 0.8,
          ease: 'power3.out',
          scrollTrigger: {
            trigger: card,
            start: 'top 80%',
            toggleActions: 'play none none none'
          },
          delay: i * 0.1
        });
      });
      
      // å±•ç¤ºåŒºåŸŸåŠ¨ç”»
      gsap.utils.toArray('.showcase-content').forEach(content => {
        const text = content.querySelector('.showcase-text');
        const image = content.querySelector('.showcase-image');
        
        gsap.from(text, {
          x: -50,
          opacity: 0,
          duration: 1,
          ease: 'power3.out',
          scrollTrigger: {
            trigger: content,
            start: 'top 80%'
          }
        });
        
        gsap.from(image, {
          x: 50,
          opacity: 0,
          duration: 1,
          ease: 'power3.out',
          scrollTrigger: {
            trigger: content,
            start: 'top 80%'
          },
          delay: 0.2
        });
      });
    }
    
    function setupFixedScrollLayout() {
      const sections = document.querySelectorAll('[data-section]');
      const images = document.querySelectorAll('.fixed-image');
      
      window.addEventListener('scroll', () => {
        sections.forEach(section => {
          const rect = section.getBoundingClientRect();
          const sectionId = section.dataset.section;
          
          // å½“éƒ¨åˆ†åœ¨è§†å£ä¸­å¤®æ—¶
          if (rect.top < window.innerHeight/2 && rect.bottom > window.innerHeight/2) {
            // æ›´æ–°å¯¹åº”å›¾ç‰‡
            images.forEach(img => {
              if (img.dataset.image === sectionId) {
                img.classList.add('active');
              } else {
                img.classList.remove('active');
              }
            });
            
            // æ›´æ–°çµåŠ¨å²›
            const titles = {
              '1': 'æ™ºèƒ½å­¦ä¹ ',
              '2': 'æ²‰æµ¸å¼ä½“éªŒ',
              '3': 'ä¸“ä¸šå·¥å…·'
            };
            updateIsland(titles[sectionId], 'fa-music');
          }
        });
      });
    }

    /* ========== çµåŠ¨å²›åŠŸèƒ½ ========== */
    function updateIsland(newText, newIcon = 'fa-music') {
      // æ–‡å­—å˜åŒ–åŠ¨ç”»
      gsap.to(islandText, {
        opacity: 0,
        scale: 0.8,
        duration: 0.3,
        onComplete: () => {
          islandText.textContent = newText;
          islandIcon.innerHTML = `<i class="fa ${newIcon}"></i>`;
          
          gsap.to(islandText, {
            opacity: 1,
            scale: 1,
            duration: 0.3
          });
          
          // æ ¹æ®æ–‡æœ¬é•¿åº¦è°ƒæ•´å®½åº¦
          const baseWidth = 200;
          const textWidth = islandText.offsetWidth;
          gsap.to(island, {
            width: `${Math.max(baseWidth, textWidth + 70)}px`,
            duration: 0.3
          });
        }
      });
    }
    
    function hideIsland() {
      gsap.to(islandContainer, {
        y: 100,
        opacity: 0,
        duration: 0.5,
        ease: 'power3.inOut'
      });
    }
    
    function showIsland() {
      gsap.to(islandContainer, {
        y: 0,
        opacity: 1,
        duration: 0.5,
        ease: 'power3.inOut'
      });
    }

    /* ========== æŠ½å±‰å¼è¯¦æƒ…åŠŸèƒ½ ========== */
    function openDrawer(id) {
      const drawer = document.getElementById(id);
      const backdrop = drawer.querySelector('.drawer-backdrop');
      const content = drawer.querySelector('.drawer-content');
      
      // æ˜¾ç¤ºæŠ½å±‰
      drawer.classList.add('active');
      document.body.style.overflow = 'hidden';
      
      // ç»‘å®šå…³é—­äº‹ä»¶
      backdrop.onclick = () => closeDrawer(id);
    }
    
    function closeDrawer(id) {
      const drawer = document.getElementById(id);
      const backdrop = drawer.querySelector('.drawer-backdrop');
      const content = drawer.querySelector('.drawer-content');
      
      // éšè—æŠ½å±‰
      drawer.classList.remove('active');
      document.body.style.overflow = '';
    }

    /* ========== GitHubæ¨¡æ¿æ–‡ä»¶æ£€æµ‹ ========== */
    // æ£€æµ‹å•ä¸ªæ¨¡æ¿æ˜¯å¦å­˜åœ¨
    async function checkTemplate(templateNum) {
      const lrcUrl = `${BASE_URL}${TEMPLATE_PREFIX}${templateNum}.lrc`;
      const mp3Url = `${BASE_URL}${TEMPLATE_PREFIX}${templateNum}.mp3`;
      try {
        // åŒæ—¶æ£€æµ‹lrcå’Œmp3æ–‡ä»¶
        const [lrcRes, mp3Res] = await Promise.all([
          fetch(lrcUrl, { method: 'HEAD' }),
          fetch(mp3Url, { method: 'HEAD' })
        ]);
        return lrcRes.ok && mp3Res.ok;
      } catch (err) {
        return false;
      }
    }
    
    // æ£€æµ‹æ‰€æœ‰æ¨¡æ¿å¹¶ç”Ÿæˆé€‰æ‹©å™¨
    async function checkAllTemplates() {
      templateTip.textContent = 'æ­£åœ¨æ£€æµ‹æ¨¡æ¿æ–‡ä»¶ï¼Œè¯·ç¨å€™...';
      // æ‰¹é‡æ£€æµ‹5ä¸ªæ¨¡æ¿
      for (let i = 1; i <= TEMPLATE_COUNT; i++) {
        templateExists[i] = await checkTemplate(i);
      }
      // ç”Ÿæˆæ¨¡æ¿é€‰æ‹©å™¨æŒ‰é’®
      generateTemplateSelector();
      // ç»Ÿè®¡å­˜åœ¨çš„æ¨¡æ¿æ•°é‡
      const existCount = templateExists.filter(Boolean).length;
      if (existCount === 0) {
        templateTip.textContent = 'æœªæ£€æµ‹åˆ°ä»»ä½•æ¨¡æ¿æ–‡ä»¶ï¼Œè¯·æŒ‰è§„åˆ™ä¸Šä¼ æˆ–è‡ªå®šä¹‰ä¸Šä¼ ';
        templateTip.className = 'feedback warning';
      } else {
        templateTip.textContent = `æ£€æµ‹åˆ°${existCount}ä¸ªæœ‰æ•ˆæ¨¡æ¿ï¼Œç‚¹å‡»é€‰æ‹©`;
        templateTip.className = 'feedback correct';
        // è‡ªåŠ¨åŠ è½½ç¬¬ä¸€ä¸ªå­˜åœ¨çš„æ¨¡æ¿
        const firstTemplate = templateExists.findIndex(v => v === true);
        if (firstTemplate > 0) {
          loadTemplate(firstTemplate);
        }
      }
    }
    
    // ç”Ÿæˆæ¨¡æ¿é€‰æ‹©å™¨æŒ‰é’®
    function generateTemplateSelector() {
      const templateSelector = document.getElementById('templateSelector');
      templateSelector.innerHTML = '';
      for (let i = 1; i <= TEMPLATE_COUNT; i++) {
        const btn = document.createElement('button');
        btn.className = `px-4 py-2 rounded-full border ${templateExists[i] ? 'border-yellow-500 text-yellow-500 hover:bg-yellow-500 hover:text-black' : 'border-gray-600 text-gray-600 cursor-not-allowed'} transition-all duration-300`;
        btn.textContent = `æ¨¡æ¿ ${i}`;
        btn.disabled = !templateExists[i];
        btn.onclick = () => {
          document.querySelectorAll('#templateSelector button').forEach(b => b.classList.remove('bg-yellow-500', 'text-black'));
          btn.classList.add('bg-yellow-500', 'text-black');
          loadTemplate(i);
        };
        templateSelector.appendChild(btn);
      }
    }
    
    // åŠ è½½æŒ‡å®šç¼–å·çš„GitHubæ¨¡æ¿
    function loadTemplate(templateNum) {
      if (!templateExists[templateNum]) return;
      currentTemplate = templateNum;
      lyricBox.innerHTML = '<div class="loading"></div>';
      transBox.textContent = '';
      startBtn.disabled = true;
      exportBtn.disabled = true;
      
      const lrcUrl = `${BASE_URL}${TEMPLATE_PREFIX}${templateNum}.lrc`;
      const mp3Url = `${BASE_URL}${TEMPLATE_PREFIX}${templateNum}.mp3`;
      
      // åŠ è½½æ­Œè¯å’ŒéŸ³é¢‘
      fetch(lrcUrl)
        .then(res => {
          if (!res.ok) throw new Error('æ­Œè¯æ–‡ä»¶åŠ è½½å¤±è´¥');
          return res.text();
        })
        .then(lrcText => {
          // è§£æLRCæ­Œè¯
          lrcData = [];
          const re = /\[(\d{2}):(\d{2})\.(\d{2,3})\](.*)/g;
          let m;
          while ((m = re.exec(lrcText)) !== null) {
            const t = parseInt(m[1]) * 60 + parseInt(m[2]) + parseInt(m[3].padEnd(3, '0')) / 1000;
            const [en, zh = ''] = m[4].trim().split('|').map(s => s.trim());
            // å°†ä¸­æ–‡å†’å·æ›¿æ¢ä¸ºè‹±æ–‡å†’å·
            const enNormalized = en.replace(/ï¼š/g, ':');
            lrcData.push({ time: t, en: enNormalized, zh });
          }
          if (!lrcData.length) throw new Error('æœªè§£æåˆ°æœ‰æ•ˆæ­Œè¯');
          
          // è®¾ç½®éŸ³é¢‘
          audioURL = mp3Url;
          audioEl.src = audioURL;
          
          // æ›´æ–°ç•Œé¢
          dropZone.querySelector('h3').textContent = `å·²åŠ è½½æ¨¡æ¿ ${templateNum}`;
          lyricBox.textContent = lrcData[0].en;
          transBox.textContent = lrcData[0].zh;
          startBtn.disabled = false;
          exportBtn.disabled = false;
          feedback.textContent = `æ¨¡æ¿ ${templateNum} åŠ è½½æˆåŠŸï¼Œå¯å¼€å§‹ç»ƒä¹ `;
          feedback.className = 'feedback correct';
          
          // æ›´æ–°çµåŠ¨å²›
          updateIsland(`æ¨¡æ¿ ${templateNum} å·²åŠ è½½`, 'fa-check');
          
          // ä¿å­˜åˆ°ç¼“å­˜
          saveToDB(lrcText, mp3Url);
        })
        .catch(err => {
          console.error('æ¨¡æ¿åŠ è½½å¤±è´¥:', err);
          lyricBox.textContent = `æ¨¡æ¿ ${templateNum} åŠ è½½å¤±è´¥`;
          feedback.textContent = `é”™è¯¯ï¼š${err.message}`;
          feedback.className = 'feedback incorrect';
          
          // æ›´æ–°çµåŠ¨å²›
          updateIsland('åŠ è½½å¤±è´¥', 'fa-exclamation-circle');
          setTimeout(() => {
            updateIsland('æ¬¢è¿ä½¿ç”¨ LyricType', 'fa-music');
          }, 2000);
        });
    }

    /* ========== æ–‡ä»¶å¤„ç† - è‡ªå®šä¹‰ä¸Šä¼  ========== */
    fileInput.addEventListener('change', e => handleFiles(e.target.files));
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(ev => {
      dropZone.addEventListener(ev, e => {
        e.preventDefault();
        e.stopPropagation();
      });
    });
    dropZone.addEventListener('drop', e => handleFiles(e.dataTransfer.files));
    
    function handleFiles(files) {
      let audio = null, lrc = null;
      [...files].forEach(f => {
        if (f.type.startsWith('audio/')) audio = f;
        if (f.name.toLowerCase().endsWith('.lrc')) lrc = f;
      });
      if (!audio || !lrc) {
        alert('è¯·åŒæ—¶é€‰æ‹©éŸ³é¢‘æ–‡ä»¶ï¼ˆMP3/WAVï¼‰å’Œæ­Œè¯æ–‡ä»¶ï¼ˆLRCï¼‰');
        return;
      }
      lyricBox.innerHTML = '<div class="loading"></div>';
      Promise.all([
        new Promise(res => {
          const r = new FileReader();
          r.onload = () => res(r.result);
          r.readAsText(lrc, 'utf-8');
        }),
        new Promise(res => {
          const r = new FileReader();
          r.onload = () => res(r.result);
          r.readAsArrayBuffer(audio);
        })
      ]).then(([lrcText, audioBuf]) => {
        // è§£ææ­Œè¯
        lrcData = [];
        const re = /\[(\d{2}):(\d{2})\.(\d{2,3})\](.*)/g;
        let m;
        while ((m = re.exec(lrcText)) !== null) {
          const t = parseInt(m[1]) * 60 + parseInt(m[2]) + parseInt(m[3].padEnd(3, '0')) / 1000;
          const [en, zh = ''] = m[4].trim().split('|').map(s => s.trim());
          // å°†ä¸­æ–‡å†’å·æ›¿æ¢ä¸ºè‹±æ–‡å†’å·
          const enNormalized = en.replace(/ï¼š/g, ':');
          lrcData.push({ time: t, en: enNormalized, zh });
        }
        if (!lrcData.length) {
          alert('æœªä»LRCæ–‡ä»¶ä¸­è§£æåˆ°æ­Œè¯');
          lyricBox.textContent = 'æœªè§£æåˆ°æ­Œè¯';
          return;
        }
        
        // å­˜å‚¨åˆ°æ•°æ®åº“å¹¶æ›´æ–°ç•Œé¢
        const tx = db.transaction([AUDIO_STORE, LRC_STORE, TIME_STORE], 'readwrite');
        tx.objectStore(AUDIO_STORE).put(audioBuf, 'audio');
        tx.objectStore(LRC_STORE).put(lrcText, 'lrc');
        tx.objectStore(TIME_STORE).clear();
        tx.oncomplete = () => {
          audioURL = URL.createObjectURL(new Blob([audioBuf], { type: audio.type }));
          audioEl.src = audioURL;
          dropZone.querySelector('h3').textContent = 'è‡ªå®šä¹‰æ–‡ä»¶å·²ä¸Šä¼ ';
          templateTip.textContent = `å½“å‰ä½¿ç”¨ï¼š${audio.name} + ${lrc.name}`;
          templateTip.className = 'feedback correct';
          startBtn.disabled = false;
          exportBtn.disabled = false;
          lyricBox.textContent = lrcData[0].en;
          transBox.textContent = lrcData[0].zh;
          
          // æ›´æ–°çµåŠ¨å²›
          updateIsland('æ–‡ä»¶ä¸Šä¼ æˆåŠŸ', 'fa-check');
        };
      });
    }

    /* ========== ç¼“å­˜æ“ä½œ - ä¿å­˜/åŠ è½½/æ¸…é™¤ ========== */
    function saveToDB(lrcText, audioUrl) {
      if (!db) return;
      const tx = db.transaction([AUDIO_STORE, LRC_STORE], 'readwrite');
      tx.objectStore(LRC_STORE).put(lrcText, 'audio');
      tx.objectStore(AUDIO_STORE).put(audioUrl, 'lrc');
      tx.oncomplete = () => console.log('å½“å‰æ¨¡æ¿å·²ä¿å­˜åˆ°ç¼“å­˜');
    }
    
    function loadFromDB() {
      const tx = db.transaction([AUDIO_STORE, LRC_STORE, TIME_STORE], 'readonly');
      const audioGet = tx.objectStore(AUDIO_STORE).get('audio');
      const lrcGet = tx.objectStore(LRC_STORE).get('lrc');
      const offGet = tx.objectStore(TIME_STORE).getAll();
      tx.oncomplete = () => {
        if (audioGet.result && lrcGet.result) {
          // è§£ææ­Œè¯
          lrcData = [];
          const re = /\[(\d{2}):(\d{2})\.(\d{2,3})\](.*)/g;
          let m;
          while ((m = re.exec(lrcGet.result)) !== null) {
            const t = parseInt(m[1]) * 60 + parseInt(m[2]) + parseInt(m[3].padEnd(3, '0')) / 1000;
            const [en, zh = ''] = m[4].trim().split('|').map(s => s.trim());
            // å°†ä¸­æ–‡å†’å·æ›¿æ¢ä¸ºè‹±æ–‡å†’å·
            const enNormalized = en.replace(/ï¼š/g, ':');
            lrcData.push({ time: t, en: enNormalized, zh });
          }
          // åŠ è½½æ—¶é—´å¾®è°ƒ
          offGet.result.forEach(o => timeOffset[o.key] = o.val);
          // è®¾ç½®éŸ³é¢‘å’Œç•Œé¢
          audioURL = audioGet.result;
          audioEl.src = audioURL;
          templateTip.textContent = 'å·²ä»æœ¬åœ°ç¼“å­˜åŠ è½½ä¸Šæ¬¡ä½¿ç”¨çš„å†…å®¹';
          templateTip.className = 'feedback correct';
          startBtn.disabled = false;
          exportBtn.disabled = false;
          if (lrcData.length > 0) {
            lyricBox.textContent = lrcData[0].en;
            transBox.textContent = lrcData[0].zh;
          }
          
          // æ›´æ–°çµåŠ¨å²›
          updateIsland('ç¼“å­˜åŠ è½½æˆåŠŸ', 'fa-refresh');
        }
      };
    }

    /* ========== æ­Œè¯ç»ƒä¹ æ ¸å¿ƒé€»è¾‘ ========== */
    startBtn.onclick = startGame;
    pauseBtn.onclick = pauseGame;
    exportBtn.onclick = exportLyrics;
    
    // å¼€å§‹ç»ƒä¹ 
    function startGame() {
      currentIndex = 0;
      inputBox.disabled = false;
      inputBox.value = '';
      feedback.textContent = '';
      startBtn.disabled = true;
      pauseBtn.disabled = false;
      showLyric();
      inputBox.focus();
      
      // æ›´æ–°çµåŠ¨å²›
      updateIsland('ç»ƒä¹ è¿›è¡Œä¸­', 'fa-play');
    }
    
    // æš‚åœç»ƒä¹ 
    function pauseGame() {
      audioEl.pause();
      inputBox.disabled = true;
      startBtn.disabled = false;
      pauseBtn.disabled = true;
      
      // æ›´æ–°çµåŠ¨å²›
      updateIsland('ç»ƒä¹ å·²æš‚åœ', 'fa-pause');
    }
    
    // æ˜¾ç¤ºå½“å‰æ­Œè¯
    function showLyric() {
      if (currentIndex >= lrcData.length) {
        lyricBox.textContent = 'ğŸ‰ ç»ƒä¹ å®Œæˆï¼';
        transBox.textContent = '';
        inputBox.disabled = true;
        startBtn.disabled = false;
        pauseBtn.disabled = true;
        highlightLayer.innerHTML = '';
        
        // æ›´æ–°çµåŠ¨å²›
        updateIsland('ç»ƒä¹ å®Œæˆ', 'fa-trophy');
        setTimeout(() => {
          updateIsland('æ¬¢è¿ä½¿ç”¨ LyricType', 'fa-music');
        }, 3000);
        
        return;
      }
      const line = lrcData[currentIndex];
      lyricBox.textContent = line.en;
      transBox.textContent = line.zh;
      inputBox.focus();
      updateCharHighlight('', line.en);
    }
    
    // å­—ç¬¦çº§å®æ—¶é«˜äº®
    inputBox.addEventListener('input', function() {
      const user = this.value;
      const correct = lrcData[currentIndex].en;
      updateCharHighlight(user, correct);
      
      // éªŒè¯è¾“å…¥
      if (user.toLowerCase() === correct.toLowerCase()) {
        feedback.textContent = 'âœ“ æ­£ç¡®';
        feedback.className = 'feedback correct';
        
        // æ’­æ”¾å¯¹åº”éŸ³é¢‘ç‰‡æ®µ
        const t = lrcData[currentIndex].time + (timeOffset[currentIndex] || 0);
        playSegment(t);
        
        // åˆ‡æ¢ä¸‹ä¸€å¥
        currentIndex++;
        this.value = '';
        highlightLayer.innerHTML = '';
        setTimeout(() => {
          feedback.textContent = '';
          feedback.className = 'feedback';
          showLyric();
        }, 1800);
      }
      // å»é™¤è¾“å…¥æ–‡å­—è¿‡é•¿è‡ªåŠ¨åˆ é™¤çš„åŠŸèƒ½
      // æ³¨é‡Šæ‰ä»¥ä¸‹ä»£ç å—
      /*
      else if (user.length > correct.length) {
        feedback.textContent = 'âœ— è¾“å…¥è¿‡é•¿ï¼Œè¯·é‡è¯•';
        feedback.className = 'feedback incorrect';
        this.value = '';
        highlightLayer.innerHTML = '';
        setTimeout(() => {
          feedback.textContent = '';
          feedback.className = 'feedback';
        }, 2000);
      }
      */
    });
    
    // æ›´æ–°å­—ç¬¦é«˜äº®
    function updateCharHighlight(user, correct) {
      let html = '';
      const maxLength = Math.max(user.length, correct.length);
      for (let i = 0; i < maxLength; i++) {
        const userChar = user[i] || '';
        const correctChar = correct[i] || '';
        let className = 'char-highlight inline-block mx-0.5 transition-all duration-200';
        if (i < user.length) {
          if (userChar.toLowerCase() === correctChar.toLowerCase() || (userChar === ':' && correctChar === ':') || (userChar === 'ï¼š' && correctChar === 'ï¼š') || (userChar === ':' && correctChar === 'ï¼š') || (userChar === 'ï¼š' && correctChar === ':')) {
            className += ' text-green-500 scale-110';
          } else {
            className += ' text-red-500 bg-red-500/10 rounded';
          }
        } else {
          className += ' text-gray-400';
        }
        html += `<span class="${className}">${correctChar}</span>`;
      }
      highlightLayer.innerHTML = html;
    }
    
    // æ’­æ”¾éŸ³é¢‘ç‰‡æ®µ
    function playSegment(start) {
      audioEl.currentTime = Math.max(0, start);
      audioEl.play().then(() => {
        console.log('éŸ³é¢‘æ’­æ”¾æˆåŠŸï¼Œæ—¶é—´:', start);
      }).catch(error => {
        console.warn('éŸ³é¢‘æ’­æ”¾å¤±è´¥:', error.message);
        // å°è¯•ç”¨æˆ·äº¤äº’åæ’­æ”¾
        if (error.name === 'NotAllowedError') {
          console.log('éœ€è¦ç”¨æˆ·äº¤äº’æ‰èƒ½æ’­æ”¾éŸ³é¢‘');
          // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æç¤ºä¿¡æ¯
        }
      });
      setTimeout(() => audioEl.pause(), 3500);
    }
    
    // å¯¼å‡ºæ­Œè¯
    function exportLyrics() {
      if (lrcData.length === 0) {
        feedback.textContent = 'æ— æ­Œè¯å¯å¯¼å‡º';
        feedback.className = 'feedback warning';
        setTimeout(() => feedback.textContent = '', 2000);
        return;
      }
      let lrcContent = '';
      lrcData.forEach((line, index) => {
        const offset = timeOffset[index] || 0;
        const adjustedTime = line.time + offset;
        const minutes = Math.floor(adjustedTime / 60);
        const seconds = Math.floor(adjustedTime % 60);
        const milliseconds = Math.floor((adjustedTime % 1) * 1000);
        const timeStr = `[${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(3, '0')}]`;
        lrcContent += `${timeStr}${line.en}|${line.zh}\n`;
      });
      const blob = new Blob([lrcContent], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `lyrictype-export-${new Date().getTime()}.lrc`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      feedback.textContent = 'æ­Œè¯å·²å¯¼å‡º';
      feedback.className = 'feedback correct';
      setTimeout(() => feedback.textContent = '', 2000);
      
      // æ›´æ–°çµåŠ¨å²›
      updateIsland('æ­Œè¯å·²å¯¼å‡º', 'fa-download');
      setTimeout(() => {
        updateIsland('æ¬¢è¿ä½¿ç”¨ LyricType', 'fa-music');
      }, 2000);
    }

    /* ========== æ¨¡æ¿è¯´æ˜å¼¹çª— ========== */
    function showTemplateInfo() {
      const templateInfo = `
        <h3 class="text-2xl font-bold mb-4 luxury-font premium-text" data-text="ä½¿ç”¨è¯´æ˜">ä½¿ç”¨è¯´æ˜</h3>
        <div style="text-align: left; max-height: 300px; overflow-y: auto; margin: 2rem 0; padding: 1.5rem; border: 1px solid rgba(212, 175, 55, 0.3); border-radius: 0.5rem; background: rgba(255, 255, 255, 0.02);">
          <p style="margin-bottom: 1.5rem; font-weight: 500;">å°†ä»¥ä¸‹æ–‡ä»¶ä¸Šä¼ åˆ°GitHubä»“åº“<strong>æ ¹ç›®å½•</strong>ï¼Œé¡µé¢å°†è‡ªåŠ¨è¯†åˆ«ï¼š</p>
          <p style="margin-bottom: 0.8rem;">ğŸ“Œ æ¨¡æ¿1ï¼šlyrictype-template1.mp3 + lyrictype-template1.lrc</p>
          <p style="margin-bottom: 0.8rem;">ğŸ“Œ æ¨¡æ¿2ï¼šlyrictype-template2.mp3 + lyrictype-template2.lrc</p>
          <p style="margin-bottom: 0.8rem;">ğŸ“Œ æ¨¡æ¿3ï¼šlyrictype-template3.mp3 + lyrictype-template3.lrc</p>
          <p style="margin-bottom: 0.8rem;">ğŸ“Œ æ¨¡æ¿4ï¼šlyrictype-template4.mp3 + lyrictype-template4.lrc</p>
          <p style="margin-bottom: 1.5rem;">ğŸ“Œ æ¨¡æ¿5ï¼šlyrictype-template5.mp3 + lyrictype-template5.lrc</p>
          <p style="margin-bottom: 0.8rem; color: #4CAF50;">âœ… LRCæ­Œè¯æ ¼å¼ï¼š[00:01.00]è‹±æ–‡æ­Œè¯|ä¸­æ–‡ç¿»è¯‘</p>
          <p style="margin-bottom: 0.8rem; color: #ff9800;">âš ï¸ æ³¨æ„ï¼šéŸ³é¢‘ä»…æ”¯æŒMP3ï¼Œæ­Œè¯å¿…é¡»ä¸ºæ ‡å‡†LRCæ ¼å¼ï¼Œä¸”ä¸€ä¸€å¯¹åº”</p>
          <p style="color: #aaaaaa;">ğŸ’¡ æç¤ºï¼šåˆ é™¤/æ›¿æ¢ä»“åº“ä¸­çš„æ¨¡æ¿æ–‡ä»¶ï¼Œé¡µé¢åˆ·æ–°åå°†è‡ªåŠ¨æ›´æ–°</p>
        </div>
        <button class="luxury-btn" onclick="restoreDropZoneUI()">
          <i class="fa fa-arrow-left mr-2"></i>
          è¿”å›
        </button>
      `;
      dropZone.innerHTML = templateInfo;
    }
    
    /* ========== æ¢å¤åˆå§‹ä¸Šä¼ åŒºåŸŸç•Œé¢ ========== */
    function restoreDropZoneUI() {
      // å®Œå…¨æ¢å¤åˆå§‹ç•Œé¢ç»“æ„
      dropZone.innerHTML = `
        <h3 class="text-2xl font-bold mb-2 luxury-font premium-text" data-text="åŠ è½½æ¨¡æ¿æ–‡ä»¶">åŠ è½½æ¨¡æ¿æ–‡ä»¶</h3>
        <p class="feedback warning mb-4" id="templateTip" style="color: var(--text-secondary);">æ­£åœ¨é‡æ–°æ£€æµ‹æ¨¡æ¿æ–‡ä»¶...</p>
        <!-- æ¨¡æ¿é€‰æ‹©å™¨åŠ¨æ€ç”Ÿæˆ -->
        <div class="template-selector" id="templateSelector" style="margin: 2rem 0; display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center;"></div>
        <input type="file" id="fileInput" class="file-input" multiple accept="audio/*,.lrc" style="display: none;"/>
        <div class="flex flex-col sm:flex-row gap-2 justify-center mt-4">
          <button class="luxury-btn" onclick="document.getElementById('fileInput').click()">
            <i class="fa fa-upload mr-2"></i>
            ä¸Šä¼ æ–‡ä»¶
          </button>
          <button class="luxury-btn" onclick="showTemplateInfo()">
            <i class="fa fa-info-circle mr-2"></i>
            ä½¿ç”¨è¯´æ˜
          </button>
        </div>
      `;
      // é‡æ–°ç»‘å®šDOMå…ƒç´ 
      templateTip = document.getElementById('templateTip');
      templateSelector = document.getElementById('templateSelector');
      fileInput = document.getElementById('fileInput');
      // é‡æ–°ç»‘å®šæ–‡ä»¶é€‰æ‹©äº‹ä»¶
      fileInput.addEventListener('change', e => handleFiles(e.target.files));
      // é‡æ–°æ£€æµ‹æ¨¡æ¿
      checkAllTemplates();
    }

    /* ========== é¡µé¢åˆå§‹åŒ– ========== */
    document.addEventListener('DOMContentLoaded', () => {
      setupParticles();
      setupScrollAnimations();
      setupFixedScrollLayout();
      initTheme();
      
      // åˆå§‹åŒ–è´¨æ„Ÿæ–‡å­—
      document.querySelectorAll('.premium-text').forEach(el => {
        el.setAttribute('data-text', el.textContent);
      });
      
      // çµåŠ¨å²›æ¬¢è¿åŠ¨ç”»
      setTimeout(() => {
        updateIsland('å¼€å§‹æ‚¨çš„éŸ³ä¹ä¹‹æ—…', 'fa-compass');
        setTimeout(() => {
          updateIsland('æ¬¢è¿ä½¿ç”¨ LyricType', 'fa-music');
        }, 3000);
      }, 2000);
    });
  </script>
</body>
</html>
